{"version":3,"file":"static/js/27.1ffd34a1.chunk.js","mappings":"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","sources":["pages/PostDetails.jsx","services/api.js"],"sourcesContent":["import React, { Suspense, lazy, useEffect, useRef } from 'react';\nimport { ThreeCircles } from 'react-loader-spinner';\nimport { useDispatch, useSelector } from 'react-redux';\nimport {\n  NavLink,\n  useParams,\n  Routes,\n  Route,\n  useLocation,\n  Link,\n} from 'react-router-dom';\nimport { toast } from 'react-toastify';\nimport {\n  incrementCountValue,\n  setError,\n  setIsLoading,\n  setPostDetails,\n} from '../redux/postDetailsReducer';\nimport { fetchDetails } from 'services/api';\n\nconst CommentsPostPage = lazy(() => import('pages/CommentsPostPage'));\n\nconst toastConfig = {\n  position: 'top-right',\n  autoClose: 5000,\n  hideProgressBar: false,\n  closeOnClick: true,\n  pauseOnHover: true,\n  draggable: true,\n  progress: undefined,\n  theme: 'dark',\n};\n\nconst PostDetails = () => {\n  // const [postDetails, setPostDetails] = useState(null);\n  // const [isLoading, setIsLoading] = useState(false);\n  // const [error, setError] = useState(null);\n  const postDetails = useSelector(state => state.postDetails.postDetails);\n  const isLoading = useSelector(state => state.postDetails.isLoading);\n  const error = useSelector(state => state.postDetails.error);\n  const countValue = useSelector(state => state.postDetails.countValue);\n  const dispatch = useDispatch();\n\n  const { postId } = useParams();\n  const location = useLocation();\n  const backLinkHref = useRef(location.state?.from ?? '/');\n\n  useEffect(() => {\n    if (!postId) return;\n\n    const fetchPostData = async () => {\n      try {\n        dispatch(setIsLoading(true));\n\n        const postData = await fetchDetails(postId);\n        dispatch(setPostDetails(postData));\n\n        toast.success('Post details were successfully fetched!', toastConfig);\n      } catch (error) {\n        dispatch(setError(error.message));\n\n        toast.error(error.message, toastConfig);\n      } finally {\n        dispatch(setIsLoading(false));\n      }\n    };\n    fetchPostData();\n  }, [postId, dispatch]);\n\n  return (\n    <div>\n      <h1>Post Details</h1>\n      <button onClick={() => dispatch(incrementCountValue())}>\n        Counter: {countValue}\n      </button>\n      <Link to={backLinkHref.current}>Go back</Link>\n      {error !== null && <p className=\"c-error\"> Oops, error.</p>}\n      {isLoading && (\n        <ThreeCircles\n          visible={true}\n          height=\"100\"\n          width=\"100\"\n          color=\"#04e4f9\"\n          ariaLabel=\"three-circles-loading\"\n          wrapperStyle={{}}\n          wrapperClass=\"\"\n        />\n      )}\n\n      {postDetails !== null && (\n        <div className=\"post-details\">\n          <h2 className=\"post_details-title\">Title: {postDetails.title} </h2>\n          <p className=\"post_details-id\">ID: {postDetails.id} </p>\n          <p className=\"post_details-body\"> {postDetails.body} </p>\n          <div>\n            <NavLink to=\"comments\">Comments</NavLink>\n          </div>\n        </div>\n      )}\n      <Suspense\n        fallback={\n          <ThreeCircles\n            visible={true}\n            height=\"100\"\n            width=\"100\"\n            color=\"#04e4f9\"\n            ariaLabel=\"three-circles-loading\"\n            wrapperStyle={{}}\n            wrapperClass=\"\"\n          />\n        }\n      >\n        <Routes>\n          <Route path=\"comments\" element={<CommentsPostPage />} />\n        </Routes>\n      </Suspense>\n    </div>\n  );\n};\n\nexport default PostDetails;\n","import axios from 'axios';\n\nconst JSON_PLACEHOLDER_BASE_URL = 'https://jsonplaceholder.typicode.com';\n\nexport const fetchPosts = async () => {\n  const { data } = await axios.get(`${JSON_PLACEHOLDER_BASE_URL}/posts`);\n  return data;\n};\n\nexport const fetchDetails = async postId => {\n  const { data } = await axios.get(\n    `${JSON_PLACEHOLDER_BASE_URL}/posts/${postId}`\n  );\n  return data;\n};\n\nexport const fetchComments = async postId => {\n  const { data } = await axios.get(\n    `${JSON_PLACEHOLDER_BASE_URL}/posts/${postId}/comments`\n  );\n  return data;\n};\n"],"names":["CommentsPostPage","lazy","toastConfig","position","autoClose","hideProgressBar","closeOnClick","pauseOnHover","draggable","progress","undefined","theme","_location$state$from","_location$state","postDetails","useSelector","state","isLoading","error","countValue","dispatch","useDispatch","postId","useParams","location","useLocation","backLinkHref","useRef","from","useEffect","fetchPostData","_ref","_asyncToGenerator","_regeneratorRuntime","_callee","postData","_context","prev","next","setIsLoading","fetchDetails","sent","setPostDetails","toast","t0","setError","message","finish","stop","apply","arguments","_jsxs","children","_jsx","onClick","incrementCountValue","Link","to","current","className","ThreeCircles","visible","height","width","color","ariaLabel","wrapperStyle","wrapperClass","title","id","body","NavLink","Suspense","fallback","Routes","Route","path","element","JSON_PLACEHOLDER_BASE_URL","fetchPosts","_yield$axios$get","data","axios","concat","abrupt","_ref2","_callee2","_yield$axios$get2","_context2","_x","fetchComments","_ref3","_callee3","_yield$axios$get3","_context3","_x2"],"sourceRoot":""}